<!DOCTYPE html>
<html lang="zh-CN">
<head>
   <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8039443538191558"
     crossorigin="anonymous"></script>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Q50Q80EVB8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Q50Q80EVB8');
</script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>å°é¢ç”Ÿæˆå™¨</title>
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@100;300;400;500;700;900&family=Noto+Serif+SC:wght@200;300;400;500;600;700;900&family=Ma+Shan+Zheng&family=ZCOOL+XiaoWei&family=ZCOOL+KuaiLe&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Microsoft YaHei', sans-serif;
      background: #f8faff;
      min-height: 100vh;
      padding: 20px;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: 1fr 400px;
      gap: 30px;
      align-items: start;
    }

    @media (max-width: 1200px) {
      .container {
        grid-template-columns: 1fr;
        gap: 20px;
      }
    }

    .title {
      text-align: center;
      color: #05296E;
      font-size: 2.5rem;
      font-weight: 700;
      margin-bottom: 30px;
      text-shadow: 0 2px 4px rgba(255,255,255,0.8);
      grid-column: 1 / -1;
    }

    .controls-panel {
      background: white;
      border-radius: 18px;
      padding: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      backdrop-filter: blur(10px);
      height: fit-content;
      max-height: 90vh;
      overflow-y: auto;
    }

    .canvas-panel {
      background: white;
      border-radius: 20px;
      padding: 40px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 700px;
      position: sticky;
      top: 20px;
    }

    .control-group {
      margin-bottom: 20px;
      padding-bottom: 16px;
      border-bottom: 1px solid #f0f0f0;
      position: relative;
      padding-left: 18px;
    }

    .control-group::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      width: 4px;
      height: 100%;
      background: linear-gradient(180deg, #FFD100 0%, #FFDC40 100%);
      border-radius: 2px;
    }

    .control-group:last-child {
      border-bottom: none;
      margin-bottom: 0;
    }

    .control-group h3 {
      color: #29467F;
      font-size: 1.15rem;
      margin-bottom: 15px;
      font-weight: 600;
    }

    .form-row {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-bottom: 12px;
    }

    .form-row.inline {
      flex-direction: row;
      align-items: center;
      gap: 15px;
    }

    label {
      color: #555;
      font-weight: 500;
      font-size: 1rem;
    }

    input[type="file"] {
      padding: 12px;
      border: 2px dashed #ddd;
      border-radius: 10px;
      background: #fafafa;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    input[type="file"]:hover {
      border-color: #4575D4;
      background: #f0f6ff;
    }

    input[type="text"], input[type="number"], select {
      padding: 10px 12px;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      background: white;
    }

    input[type="text"]:focus, input[type="number"]:focus, select:focus {
      outline: none;
      border-color: #1144AA;
      box-shadow: 0 0 0 3px rgba(17, 68, 170, 0.15);
    }

    input[type="color"] {
      width: 60px;
      height: 40px;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      cursor: pointer;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      transition: all 0.3s ease;
      padding: 0;
      background: none;
      outline: none;
    }

    input[type="color"]:hover {
      border-color: #4575D4;
      box-shadow: 0 4px 12px rgba(69, 117, 212, 0.2);
      transform: translateY(-1px);
    }

    input[type="color"]:focus {
      border-color: #1144AA;
      box-shadow: 0 0 0 3px rgba(17, 68, 170, 0.15);
    }

    .color-control {
      display: flex;
      align-items: center;
      gap: 15px;
      padding: 10px 15px;
      background: #f8faff;
      border-radius: 10px;
      border: 1px solid #e8f0ff;
    }

    .color-control span {
      color: #29467F;
      font-weight: 500;
    }

    input[type="range"] {
      flex: 1;
      height: 6px;
      border-radius: 3px;
      background: #e0e0e0;
      outline: none;
      cursor: pointer;
    }

    input[type="range"]::-webkit-slider-thumb {
      appearance: none;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: #1144AA;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    input[type="range"]::-webkit-slider-thumb:hover {
      background: #05296E;
      transform: scale(1.1);
    }

    input[type="range"]::-moz-range-thumb {
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: #1144AA;
      cursor: pointer;
      border: none;
    }

    .buttons {
      display: flex;
      gap: 10px;
      margin-top: 20px;
    }

    button {
      flex: 1;
      padding: 10px 16px;
      border: none;
      border-radius: 8px;
      font-size: 0.9rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .btn-primary {
      background: linear-gradient(135deg, #1144AA 0%, #29467F 100%);
      color: white;
      box-shadow: 0 4px 15px rgba(17, 68, 170, 0.3);
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(17, 68, 170, 0.4);
      background: linear-gradient(135deg, #05296E 0%, #1144AA 100%);
    }

    .btn-secondary {
      background: linear-gradient(135deg, #FF6F00 0%, #BF6E30 100%);
      color: white;
      box-shadow: 0 4px 15px rgba(255, 111, 0, 0.3);
    }

    .btn-secondary:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(255, 111, 0, 0.4);
      background: linear-gradient(135deg, #A64800 0%, #FF6F00 100%);
    }

    #coverCanvas {
      border: none;
      border-radius: 0;
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
      max-width: 700px;
      width: 100%;
      height: auto;
      background: white;
    }

    .canvas-placeholder {
      max-width: 700px;
      height: 450px;
      border: none;
      border-radius: 0px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #29467F;
      font-size: 1.2rem;
    }

    .size-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 10px;
    }

    .size-option {
      padding: 12px;
      border: 2px solid #e0e0e0;
      border-radius: 10px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
      background: white;
    }

    .size-option:hover {
      border-color: #4575D4;
      background: #f0f6ff;
    }

    .size-option.active {
      border-color: #1144AA;
      background: #1144AA;
      color: white;
    }

    .font-preview {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 8px 12px;
      border-radius: 8px;
      transition: background 0.2s ease;
    }

    .font-preview:hover {
      background: #f0f6ff;
    }

    /* å­—ä½“é¢„è§ˆæ ·å¼ */
    #fontSelect option[value="Microsoft YaHei"] { font-family: "Microsoft YaHei"; }
    #fontSelect option[value="SimHei"] { font-family: "SimHei"; }
    #fontSelect option[value="SimSun"] { font-family: "SimSun"; }
    #fontSelect option[value="KaiTi"] { font-family: "KaiTi"; }
    #fontSelect option[value="FangSong"] { font-family: "FangSong"; }
    #fontSelect option[value="STKaiti"] { font-family: "STKaiti"; }
    #fontSelect option[value="STXingkai"] { font-family: "STXingkai"; }
    #fontSelect option[value="STSong"] { font-family: "STSong"; }
    #fontSelect option[value="STFangsong"] { font-family: "STFangsong"; }
    #fontSelect option[value="STHeiti"] { font-family: "STHeiti"; }
    #fontSelect option[value="LiSu"] { font-family: "LiSu"; }
    #fontSelect option[value="YouYuan"] { font-family: "YouYuan"; }
    #fontSelect option[value="Arial"] { font-family: "Arial"; }
    #fontSelect option[value="Arial Black"] { font-family: "Arial Black"; }
    #fontSelect option[value="Times New Roman"] { font-family: "Times New Roman"; }
    #fontSelect option[value="Georgia"] { font-family: "Georgia"; }
    #fontSelect option[value="Impact"] { font-family: "Impact"; }
    #fontSelect option[value="Trebuchet MS"] { font-family: "Trebuchet MS"; }
    #fontSelect option[value="Verdana"] { font-family: "Verdana"; }
    #fontSelect option[value="Helvetica"] { font-family: "Helvetica"; }
    #fontSelect option[value="Comic Sans MS"] { font-family: "Comic Sans MS"; }
    #fontSelect option[value="Courier New"] { font-family: "Courier New"; }
    #fontSelect option[value="Noto Sans SC"] { font-family: "Noto Sans SC"; }
    #fontSelect option[value="Noto Serif SC"] { font-family: "Noto Serif SC"; }
    #fontSelect option[value="Ma Shan Zheng"] { font-family: "Ma Shan Zheng"; }
    #fontSelect option[value="ZCOOL XiaoWei"] { font-family: "ZCOOL XiaoWei"; }
    #fontSelect option[value="ZCOOL KuaiLe"] { font-family: "ZCOOL KuaiLe"; }

    #removeImageBtn:hover {
      background: #ff3742 !important;
      transform: translateY(-1px);
    }

    @media (max-width: 768px) {
      .controls-panel {
        padding: 20px;
        order: 2;
      }
      
      .canvas-panel {
        padding: 20px;
        position: static;
        order: 1;
        min-height: 400px;
      }
      
      .buttons {
        flex-direction: column;
        gap: 10px;
      }
      
      .title {
        font-size: 2rem;
      }

      .control-group {
        padding-left: 15px;
        margin-bottom: 15px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1 class="title"><span style="color: #FFD100;">å°é¢</span>ç”Ÿæˆå™¨</h1>
    
    <div class="canvas-panel">
      <h3 style="margin-bottom: 90px; color: #333; font-size: 1.8rem; font-weight: 600;">é¢„è§ˆæ•ˆæœ</h3>

      <div id="canvasContainer">
        <div class="canvas-placeholder" id="placeholder">
          ç‚¹å‡» "ç”Ÿæˆå°é¢" å¼€å§‹åˆ›ä½œ 
        </div>
        <canvas id="coverCanvas" style="display: none;"></canvas>
      </div>
      
    </div>

    <div class="controls-panel">
      <div class="control-group">
        <h3>ğŸ“ å›¾ç‰‡è®¾ç½®</h3>
        <div class="form-row">
          <label>ä¸Šä¼ èƒŒæ™¯å›¾ç‰‡</label>
          <input type="file" id="imageUpload" accept="image/*">
          <button type="button" id="removeImageBtn" style="display: none; margin-top: 10px; padding: 8px 16px; background: #ff4757; color: white; border: none; border-radius: 6px; font-size: 0.9rem; cursor: pointer; transition: all 0.3s ease;">
             åˆ é™¤å›¾ç‰‡
          </button>
        </div>
        <div class="form-row">
          <label>èƒŒæ™¯é¢œè‰²</label>
          <div class="color-control">
            <input type="color" id="bgColor" value="#ffffff">
            <span>é€‰æ‹©èƒŒæ™¯è‰²</span>
          </div>
        </div>
      </div>

      <div class="control-group">
        <h3>âœï¸ æ–‡å­—è®¾ç½®</h3>
        <div class="form-row">
          <label>å°é¢æ ‡é¢˜</label>
          <input type="text" id="coverText" placeholder="è¾“å…¥ä½ çš„å°é¢æ ‡é¢˜...">
        </div>
        <div class="form-row">
          <label>å­—ä½“é€‰æ‹©</label>
          <select id="fontSelect" style="font-family: var(--selected-font, 'Microsoft YaHei');"
            <optgroup label="ä¸­æ–‡å­—ä½“">
              <option value="Microsoft YaHei">å¾®è½¯é›…é»‘ (æ¨è)</option>
              <option value="SimHei">é»‘ä½“</option>
              <option value="SimSun">å®‹ä½“</option>
              <option value="KaiTi">æ¥·ä½“</option>
              <option value="FangSong">ä»¿å®‹</option>
              <option value="STKaiti">åæ–‡æ¥·ä½“</option>
              <option value="STXingkai">åæ–‡è¡Œæ¥·</option>
              <option value="STSong">åæ–‡å®‹ä½“</option>
              <option value="STFangsong">åæ–‡ä»¿å®‹</option>
              <option value="STHeiti">åæ–‡é»‘ä½“</option>
              <option value="LiSu">éš¶ä¹¦</option>
              <option value="YouYuan">å¹¼åœ†</option>
            </optgroup>
            <optgroup label="è‹±æ–‡å­—ä½“">
              <option value="Arial">Arial</option>
              <option value="Arial Black">Arial Black</option>
              <option value="Times New Roman">Times New Roman</option>
              <option value="Georgia">Georgia</option>
              <option value="Impact">Impact</option>
              <option value="Trebuchet MS">Trebuchet MS</option>
              <option value="Verdana">Verdana</option>
              <option value="Helvetica">Helvetica</option>
              <option value="Comic Sans MS">Comic Sans MS</option>
              <option value="Courier New">Courier New</option>
            </optgroup>
            <optgroup label="Webå­—ä½“">
              <option value="Noto Sans SC">æ€æºé»‘ä½“</option>
              <option value="Noto Serif SC">æ€æºå®‹ä½“</option>
              <option value="Ma Shan Zheng">é©¬å–„æ”¿æ¯›ç¬”ä½“</option>
              <option value="ZCOOL XiaoWei">ç«™é…·å°è–‡ä½“</option>
              <option value="ZCOOL KuaiLe">ç«™é…·å¿«ä¹ä½“</option>
            </optgroup>
          </select>
        </div>
        <div class="form-row inline">
          <label>å­—ä½“å¤§å°</label>
          <input type="number" id="fontSize" value="60" min="10" max="200">
          <span>px</span>
        </div>
        <div class="form-row">
          <label>æ–‡å­—é¢œè‰²</label>
          <div class="color-control">
            <input type="color" id="textColor" value="#000000">
            <span>é€‰æ‹©æ–‡å­—é¢œè‰²</span>
          </div>
        </div>
        <div class="form-row">
          <label>æ–‡å­—ç‰¹æ•ˆ</label>
          <select id="textEffect">
            <option value="none">æ— ç‰¹æ•ˆ</option>
            <option value="shadow">é˜´å½±æ•ˆæœ</option>
            <option value="stroke">æè¾¹æ•ˆæœ</option>
            <option value="glow">å‘å…‰æ•ˆæœ</option>
            <option value="double-shadow">åŒé‡é˜´å½±</option>
            <option value="3d">3Dç«‹ä½“æ•ˆæœ</option>
          </select>
        </div>
        <div class="form-row" id="effectColorRow" style="display: none;">
          <label>ç‰¹æ•ˆé¢œè‰²</label>
          <div class="color-control">
            <input type="color" id="effectColor" value="#666666">
            <span>é€‰æ‹©ç‰¹æ•ˆé¢œè‰²</span>
          </div>
        </div>
        <div class="form-row inline" id="effectIntensityRow" style="display: none;">
          <label>ç‰¹æ•ˆå¼ºåº¦</label>
          <input type="range" id="effectIntensity" min="1" max="10" value="5">
          <span id="intensityValue">5</span>
        </div>
      </div>

      <div class="control-group">
        <h3>ğŸ“ å°ºå¯¸è®¾ç½®</h3>
        <div class="form-row">
          <label>é€‰æ‹©å°é¢å°ºå¯¸</label>
          <select id="sizeSelect">
            <option value="900x383">å…¬ä¼—å·å°é¢ (900Ã—383)</option>
            <option value="1500x600">Notion å°é¢ (1500Ã—600)</option>
            <option value="1080x1080">æ­£æ–¹å½¢ (1080Ã—1080)</option>
            <option value="1920x1080">è§†é¢‘å°é¢ (1920Ã—1080)</option>
            <option value="1080x1920">æ‰‹æœºå°é¢ (1080Ã—1920)</option>
            <option value="custom">è‡ªå®šä¹‰å°ºå¯¸</option>
          </select>
        </div>
        <div id="customSizeRow" style="display: none;">
          <div class="form-row inline">
            <label>å®½åº¦</label>
            <input type="number" id="customWidth" value="1200" min="100" max="4000">
            <span>px</span>
          </div>
          <div class="form-row inline">
            <label>é«˜åº¦</label>
            <input type="number" id="customHeight" value="800" min="100" max="4000">
            <span>px</span>
          </div>
        </div>
      </div>

      <div class="buttons">
        <button class="btn-primary" onclick="generateCover()">ğŸ¨ ç”Ÿæˆå°é¢</button>
        <button class="btn-secondary" onclick="downloadCover()">ğŸ’¾ ä¸‹è½½å°é¢</button>
      </div>
    </div>
  </div>

  <script>
    const canvas = document.getElementById('coverCanvas');
    const ctx = canvas.getContext('2d');
    const placeholder = document.getElementById('placeholder');
    let uploadedImg = null;

    document.getElementById('imageUpload').addEventListener('change', function(e) {
      if (e.target.files[0]) {
        const reader = new FileReader();
        reader.onload = function(event) {
          uploadedImg = new Image();
          uploadedImg.onload = () => {
            document.getElementById('removeImageBtn').style.display = 'block';
            generateCover();
          };
          uploadedImg.src = event.target.result;
        };
        reader.readAsDataURL(e.target.files[0]);
      }
    });

    // åˆ é™¤å›¾ç‰‡åŠŸèƒ½
    document.getElementById('removeImageBtn').addEventListener('click', function() {
      uploadedImg = null;
      document.getElementById('imageUpload').value = '';
      document.getElementById('removeImageBtn').style.display = 'none';
      
      // å¦‚æœå½“å‰å·²ç»ç”Ÿæˆäº†å°é¢ï¼Œé‡æ–°ç”Ÿæˆä¸å¸¦å›¾ç‰‡çš„ç‰ˆæœ¬
      if (canvas.style.display === 'block') {
        generateCover();
      }
    });

    // æ–‡å­—ç‰¹æ•ˆæ§åˆ¶
    document.getElementById('textEffect').addEventListener('change', function() {
      const effect = this.value;
      const colorRow = document.getElementById('effectColorRow');
      const intensityRow = document.getElementById('effectIntensityRow');
      
      if (effect === 'none') {
        colorRow.style.display = 'none';
        intensityRow.style.display = 'none';
      } else {
        colorRow.style.display = 'block';
        intensityRow.style.display = 'flex';
      }
      
      if (canvas.style.display === 'block') {
        generateCover();
      }
    });

    // ç‰¹æ•ˆå¼ºåº¦æ»‘å—
    document.getElementById('effectIntensity').addEventListener('input', function() {
      document.getElementById('intensityValue').textContent = this.value;
      if (canvas.style.display === 'block') {
        generateCover();
      }
    });

    // å°ºå¯¸é€‰æ‹©æ§åˆ¶
    document.getElementById('sizeSelect').addEventListener('change', function() {
      const customSizeRow = document.getElementById('customSizeRow');
      if (this.value === 'custom') {
        customSizeRow.style.display = 'block';
      } else {
        customSizeRow.style.display = 'none';
      }
      
      if (canvas.style.display === 'block') {
        generateCover();
      }
    });

    // è‡ªå®šä¹‰å°ºå¯¸è¾“å…¥æ¡†äº‹ä»¶
    ['customWidth', 'customHeight'].forEach(id => {
      document.getElementById(id).addEventListener('input', () => {
        if (canvas.style.display === 'block' && document.getElementById('sizeSelect').value === 'custom') {
          generateCover();
        }
      });
    });

    // å­—ä½“é€‰æ‹©å™¨æ ·å¼æ›´æ–°
    document.getElementById('fontSelect').addEventListener('change', function() {
      const selectedFont = this.value;
      this.style.fontFamily = selectedFont;
    });

    function generateCover() {
      const bgColor = document.getElementById('bgColor').value;
      const text = document.getElementById('coverText').value;
      const font = document.getElementById('fontSelect').value;
      const textColor = document.getElementById('textColor').value;
      const sizeValue = document.getElementById('sizeSelect').value;
      
      let width, height;
      if (sizeValue === 'custom') {
        width = parseInt(document.getElementById('customWidth').value) || 1200;
        height = parseInt(document.getElementById('customHeight').value) || 800;
      } else {
        const size = sizeValue.split('x');
        width = parseInt(size[0]);
        height = parseInt(size[1]);
      }

      canvas.width = width;
      canvas.height = height;

      // æ˜¾ç¤ºç”»å¸ƒï¼Œéšè—å ä½ç¬¦
      placeholder.style.display = 'none';
      canvas.style.display = 'block';

      // èƒŒæ™¯å¡«å……
      ctx.fillStyle = bgColor;
      ctx.fillRect(0, 0, width, height);

      // æ’å…¥å›¾åƒï¼ˆå±…ä¸­ï¼‰
      if (uploadedImg) {
        const scale = Math.min(width / uploadedImg.width, height / uploadedImg.height);
        const imgW = uploadedImg.width * scale;
        const imgH = uploadedImg.height * scale;
        const imgX = (width - imgW) / 2;
        const imgY = (height - imgH) / 2;
        ctx.drawImage(uploadedImg, imgX, imgY, imgW, imgH);
      }

      // ç»˜åˆ¶æ–‡å­—ï¼ˆå±…ä¸­å¯¹é½ï¼‰
      if (text.trim()) {
        const fontSize = parseInt(document.getElementById('fontSize').value);
        const textEffect = document.getElementById('textEffect').value;
        const effectColor = document.getElementById('effectColor').value;
        const intensity = parseInt(document.getElementById('effectIntensity').value);
        
        ctx.font = `${fontSize}px ${font}`;
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        
        const textX = width / 2;
        const textY = height / 2;
        
        // åº”ç”¨æ–‡å­—ç‰¹æ•ˆ
        applyTextEffect(ctx, text, textX, textY, textColor, textEffect, effectColor, intensity, fontSize);
      }
    }

    function applyTextEffect(ctx, text, x, y, textColor, effect, effectColor, intensity, fontSize) {
      // é‡ç½®æ‰€æœ‰æ•ˆæœ
      ctx.shadowColor = 'transparent';
      ctx.shadowBlur = 0;
      ctx.shadowOffsetX = 0;
      ctx.shadowOffsetY = 0;
      ctx.strokeStyle = 'transparent';
      ctx.lineWidth = 0;
      
      switch(effect) {
        case 'none':
          ctx.fillStyle = textColor;
          ctx.fillText(text, x, y);
          break;
          
        case 'shadow':
          // é˜´å½±æ•ˆæœ
          ctx.shadowColor = effectColor;
          ctx.shadowBlur = intensity * 2;
          ctx.shadowOffsetX = intensity;
          ctx.shadowOffsetY = intensity;
          ctx.fillStyle = textColor;
          ctx.fillText(text, x, y);
          break;
          
        case 'stroke':
          // æè¾¹æ•ˆæœ
          ctx.lineWidth = intensity;
          ctx.strokeStyle = effectColor;
          ctx.fillStyle = textColor;
          ctx.strokeText(text, x, y);
          ctx.fillText(text, x, y);
          break;
          
        case 'glow':
          // å‘å…‰æ•ˆæœ
          ctx.shadowColor = effectColor;
          ctx.shadowBlur = intensity * 3;
          ctx.fillStyle = textColor;
          ctx.fillText(text, x, y);
          ctx.fillText(text, x, y); // å†æ¬¡ç»˜åˆ¶å¢å¼ºå‘å…‰
          break;
          
        case 'double-shadow':
          // åŒé‡é˜´å½±
          ctx.shadowColor = effectColor;
          ctx.shadowBlur = intensity;
          ctx.shadowOffsetX = intensity;
          ctx.shadowOffsetY = intensity;
          ctx.fillStyle = textColor;
          ctx.fillText(text, x, y);
          
          // ç¬¬äºŒå±‚é˜´å½±
          ctx.shadowColor = 'rgba(0,0,0,0.3)';
          ctx.shadowBlur = intensity * 2;
          ctx.shadowOffsetX = intensity * 2;
          ctx.shadowOffsetY = intensity * 2;
          ctx.fillText(text, x, y);
          break;
          
        case '3d':
          // 3Dç«‹ä½“æ•ˆæœ
          for (let i = intensity; i > 0; i--) {
            ctx.fillStyle = effectColor;
            ctx.fillText(text, x + i, y + i);
          }
          ctx.fillStyle = textColor;
          ctx.fillText(text, x, y);
          break;
          
        default:
          ctx.fillStyle = textColor;
          ctx.fillText(text, x, y);
      }
      
      // é‡ç½®æ•ˆæœ
      ctx.shadowColor = 'transparent';
      ctx.shadowBlur = 0;
      ctx.shadowOffsetX = 0;
      ctx.shadowOffsetY = 0;
    }

    function downloadCover() {
      if (canvas.width === 0 || canvas.height === 0 || canvas.style.display === 'none') {
        alert("è¯·å…ˆç‚¹å‡» 'ç”Ÿæˆå°é¢' æŒ‰é’®ç”Ÿæˆå†…å®¹åå†ä¸‹è½½ã€‚");
        return;
      }
      const link = document.createElement('a');
      const timestamp = new Date().toISOString().slice(0, 19).replace(/[:-]/g, '');
      link.download = `å°é¢_${timestamp}.png`;
      link.href = canvas.toDataURL('image/png');
      link.click();
    }

    // å®æ—¶é¢„è§ˆåŠŸèƒ½
    ['coverText', 'fontSize', 'textColor', 'bgColor', 'effectColor'].forEach(id => {
      document.getElementById(id).addEventListener('input', () => {
        if (canvas.style.display === 'block') {
          generateCover();
        }
      });
    });

    ['fontSelect', 'textEffect'].forEach(id => {
      document.getElementById(id).addEventListener('change', () => {
        if (canvas.style.display === 'block') {
          generateCover();
        }
      });
    });
  </script>
</body>
</html>
